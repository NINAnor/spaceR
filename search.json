[{"path":"https://ninanor.github.io/spaceR/LICENSE.html","id":null,"dir":"","previous_headings":"","what":"MIT License","title":"MIT License","text":"Copyright (c) 2025 spaceR authors Permission hereby granted, free charge, person obtaining copy software associated documentation files (“Software”), deal Software without restriction, including without limitation rights use, copy, modify, merge, publish, distribute, sublicense, /sell copies Software, permit persons Software furnished , subject following conditions: copyright notice permission notice shall included copies substantial portions Software. SOFTWARE PROVIDED “”, WITHOUT WARRANTY KIND, EXPRESS IMPLIED, INCLUDING LIMITED WARRANTIES MERCHANTABILITY, FITNESS PARTICULAR PURPOSE NONINFRINGEMENT. EVENT SHALL AUTHORS COPYRIGHT HOLDERS LIABLE CLAIM, DAMAGES LIABILITY, WHETHER ACTION CONTRACT, TORT OTHERWISE, ARISING , CONNECTION SOFTWARE USE DEALINGS SOFTWARE.","code":""},{"path":"https://ninanor.github.io/spaceR/authors.html","id":null,"dir":"","previous_headings":"","what":"Authors","title":"Authors and Citation","text":"Anders Kolstad. Author, maintainer.","code":""},{"path":"https://ninanor.github.io/spaceR/authors.html","id":"citation","dir":"","previous_headings":"","what":"Citation","title":"Authors and Citation","text":"Kolstad (2025). spaceR: Functions spatial sampling. R package version 0.0.0.9000, https://ninanor.github.io/spaceR/.","code":"@Manual{,   title = {spaceR: Functions for spatial sampling},   author = {Anders Kolstad},   year = {2025},   note = {R package version 0.0.0.9000},   url = {https://ninanor.github.io/spaceR/}, }"},{"path":"https://ninanor.github.io/spaceR/index.html","id":"spacer","dir":"","previous_headings":"","what":"Functions for spatial sampling","title":"Functions for spatial sampling","text":"Tools spatial sampling","code":""},{"path":"https://ninanor.github.io/spaceR/index.html","id":"installation","dir":"","previous_headings":"","what":"Installation","title":"Functions for spatial sampling","text":"can install development version eaTools GitHub :","code":"# install.packages(\"devtools\") devtools::install_github(\"NINAnor/spaceR\")"},{"path":"https://ninanor.github.io/spaceR/reference/nested_balanced.html","id":null,"dir":"Reference","previous_headings":"","what":"Nested, balanced, and spatially well-spread stratified samples — nested_balanced","title":"Nested, balanced, and spatially well-spread stratified samples — nested_balanced","text":"Draws sequence nested samples per stratum probability-balanced (via BalancedSampling) well-spread space. largest sample drawn first; subsequent (smaller) sample drawn previous sample , balanced auxiliary variables level whole population, spatial spreading computed based coordinated included population units .","code":""},{"path":"https://ninanor.github.io/spaceR/reference/nested_balanced.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Nested, balanced, and spatially well-spread stratified samples — nested_balanced","text":"","code":"nested_balanced(   samplingFrame,   n_seq,   id_col = \"ID\",   stratum_col = \"stratum\",   easting_col = \"Easting\",   northing_col = \"Northing\",   area_col = \"area\",   xbal_formula = ~1,   exclude_offset = 1e+06,   return_dataframe = FALSE )"},{"path":"https://ninanor.github.io/spaceR/reference/nested_balanced.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Nested, balanced, and spatially well-spread stratified samples — nested_balanced","text":"samplingFrame data.frame (population sampling units, e.g. mypop). n_seq Numeric vector desired per-stratum sample sizes decreasing order, e.g. c(100, 80, 60, 40, 20). first element largest (top-level) sample; subsequent element nested subsample previous. id_col Name ID column samplingFrame. Default \"ID\". Needs unique population unit. stratum_col Name stratum column samplingFrame. Default \"stratum\". easting_col Name easting (x) coordinate column. Default \"Easting\". northing_col Name northing (y) coordinate column. Default \"Northing\". area_col Name area/size measure column used set inclusion probabilities within stratum (area). Default \"area\". using sampling probabilities proportional size, area_col might just population strata size N. xbal_formula right-hand-side formula balancing variables, evaluated samplingFrame, e.g. ~ aux1 + aux2 - 1. Default ~ 1 (balancing auxiliaries beyond spreading/strata). exclude_offset Numeric offset added max coordinate push excluded units far away spreading step. Default 1e6. return_dataframe Logical; TRUE, also returns filtered sampling frame, columns, instead just populatio units ID's. Default FALSE.","code":""},{"path":"https://ninanor.github.io/spaceR/reference/nested_balanced.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Nested, balanced, and spatially well-spread stratified samples — nested_balanced","text":"named list. n n_seq get element named n{n} (e.g. n100, n80, ...), either string population ID's, , return_dataframe = TRUE data.frame rows samplingFrame selected.","code":""},{"path":"https://ninanor.github.io/spaceR/reference/nested_balanced.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Nested, balanced, and spatially well-spread stratified samples — nested_balanced","text":"requested sample size n (per stratum), function sets inclusion probabilities \\(\\pi_i = n \\cdot a_i / \\sum_{h} a_i\\) within stratum using area_col values \\(a_i\\). first draw sum taken entire stratum; subsequent draws taken previous sample , samples nested. Spatial spreading uses Xspread (Easting/Northing). Units available current step assigned coordinates far outside study area avoid influencing spread. Requires BalancedSampling.","code":""},{"path":"https://ninanor.github.io/spaceR/reference/nested_balanced.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Nested, balanced, and spatially well-spread stratified samples — nested_balanced","text":"","code":"if (FALSE) { # \\dontrun{ # Suppose mypop has: ID, stratum, Easting, Northing, area2, aux1, aux2 # We want nested samples of sizes 100, 80, 60, 40, 20 per stratum: out <- nested_balanced(   data = mypop,   n_seq = c(100, 80, 60, 40, 20),   id_col = \"ID\",   stratum_col = \"stratum\",   easting_col = \"Easting\",   northing_col = \"Northing\",   area_col = \"area2\",   xbal_formula = ~ aux1 + aux2 - 1 )  # Access the largest and a nested subset: sample_100 <- out$n100 sample_60  <- out$n60 } # }"}]
